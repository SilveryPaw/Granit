@use 'config/config' as *;

$block-name: 'b-page';

.#{$block-name} {
    &__screens-container {
        position: relative;
        width: 100vw;
        height: 100vh;
        overflow: hidden;
    }

    &__screen {
        position: absolute;
        top: 0;
        left: 0;
        opacity: 0;
        visibility: hidden;
        transform: translateY(100%);
        transition: transform var(--anim-delay, 1s) ease-in-out;

        
        &.leave-back {
            transform: translateY(-100%);
            opacity: 1;
            visibility: visible;
            z-index: 0;
        }

        &.enter {
            transform: translateY(0);
            opacity: 1;
            visibility: visible;
            z-index: 1;
        }

        &.enter-polygon {
            transform: translateY(0);
            opacity: 1;
            visibility: visible;
            z-index: 1;
        }

        &.leave {
            transform: translateY(100%);
            opacity: 1;
            visibility: visible;
            z-index: 0;
        }

        &.leave-half {
            transform: translateY(50%);
            opacity: 1;
            visibility: visible;
            z-index: 0;
        }

        &.in-slide {
            transition: transform var(--anim-delay, 1s) ease-in-out;
        }

        &.in-fade-under {
            transition: none;
            animation: indexAnimUp var(--anim-delay, 1s);
            animation-play-state: paused;

            &.enter {
                animation-play-state: running;
            }
        }

        &.in-polygon-bottom {
            transition: clip-path var(--anim-delay, 1s);
            clip-path: polygon(50% 0%, 90% 20%, 100% 60%, 75% 100%, 25% 100%, 0% 60%, 10% 20%);
        }

        &.out-scale-under {
            transform-origin: top;
            transition:
                transform 0s linear var(--anim-delay, 1s),
                scale var(--anim-delay, 1s);

            &.leave,
            &.leave-back {
                scale: 0.9;
            }
        }

        &.out-half-leave {
            transition: transform var(--anim-delay, 1s) ease-in-out;
            
            &.leave,
            &.leave-back {
                transform: translateY(-50%);
            }
        }

        &--third {
            &::after {
                position: absolute;
                width: 100%;
                height: 100%;
                top: 0;
                left: 0;
                background: rgba(0 0 0 / 50%);
                visibility: visible;
                transition:
                    opacity var(--anim-delay, 1s) ease-in-out,
                    visibility 0s linear var(--anim-delay, 1s);
                content: "";
            }

            &.enter::after {
                opacity: 0;
                visibility: hidden;
            }
        }

        @keyframes indexAnimUp {
            from {
                z-index: -1;
            }

            99% {
                z-index: -1;
            }

            to {
                z-index: 2;
            }
        }
    }
}
